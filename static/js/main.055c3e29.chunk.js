(this.webpackJsonpreact_escalade=this.webpackJsonpreact_escalade||[]).push([[0],{114:function(e,t,a){e.exports=a(130)},119:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(12),l=a.n(s),o=(a(119),a(6)),i=a(17),c=a(18),u=a(64),m=a(20),d=a(19),p=a(39),h=a(15),g=(a(120),a(27)),f=a(3),E=a.n(f),w=a(189),b=a(132),v=a(197),x=a(199),N=a(226),y=a(198),C=a(41),S=a(186),O=a(81),j=a(93);O.a.use(j.a).init({debug:!1,fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1},resources:{en:{translations:window.languageEn},fr:{translations:window.languageFr}},ns:["translations"],defaultNS:"translations"});var P=O.a,k=a(178),A=a(100),I=a(179),D=a(181),T=a(182),M=a(180),R=a(183),U=a(5);function z(e){var t=r.a.useState(null),a=Object(g.a)(t,2),n=a[0],s=a[1],l=e.title,o=e.options,i=e.setAction,c=function(e){if(s(null),i&&e.currentTarget.attributes.value){var t=e.currentTarget.attributes.value.value;i(t)}},u=Object(U.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(A.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))}));return r.a.createElement("div",null,r.a.createElement(k.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},variant:"contained",color:"primary",onMouseDown:function(e){return e.preventDefault()}},l),r.a.createElement(u,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:c},o.map((function(e,t){return e.linkTo?r.a.createElement(p.b,{to:e.linkTo,key:t,className:"linkNoDecoration",onClick:function(){return s(null)}},r.a.createElement(I.a,{value:o.item},e.iconMenu?r.a.createElement(M.a,null,e.iconMenu):r.a.createElement(M.a,null,t%2===0?r.a.createElement(D.a,{fontSize:"small"}):r.a.createElement(T.a,{fontSize:"small"})),r.a.createElement(R.a,{primary:e.item}))):r.a.createElement(I.a,{key:t,onClick:c,value:e.item},e.item)}))))}z.protoType={options:E.a.array.isRequired,setAction:E.a.func,title:E.a.string.isRequired};var H=a(184),L=a(185),_=a(177),F=a(131),q=a(187),B=a(188),W="left",J="right",V="climbing_drawer1",K=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={position:W,openDrawer:!1},e.HandleDrawer=function(t){"idToggleDrawerPosition"===t.target.id||"idToggleDrawerPosition"===t.target.parentNode.id||"idToggleDrawerPosition"===t.target.parentNode.parentNode.id||"idToggleDrawerPosition"===t.target.parentNode.parentNode.parentNode.id?e.state.position===W?(e.setState({position:J}),localStorage.setItem(V,J)):(e.setState({position:W}),localStorage.setItem(V,W)):(e.props.parentActionOnCloseDrawer(),e.setState({openDrawer:!1}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem(V);e!==W&&e!==J||this.state.position===e||this.setState({position:e})}},{key:"componentDidUpdate",value:function(e,t,a){this.props.open&&!t.openDrawer&&this.setState({openDrawer:this.props.open})}},{key:"render",value:function(){var e=this.props.optionsMenu;return r.a.createElement(H.a,{anchor:this.state.position,open:this.state.openDrawer,onClick:this.HandleDrawer},r.a.createElement(_.a,null,e.map((function(e,t){return e.linkTo?r.a.createElement(p.b,{to:e.linkTo,className:"linkNoDecoration",key:t},r.a.createElement(F.a,null,r.a.createElement(M.a,null,e.iconMenu),r.a.createElement(R.a,null,e.item))):r.a.createElement(F.a,{key:t},r.a.createElement(M.a,null,e.iconMenu),r.a.createElement(R.a,null,e.item))})),r.a.createElement(L.a,null),r.a.createElement(S.a,{className:"arrowAlignCenter",id:"idToggleDrawerPosition"},this.state.position===W?r.a.createElement(q.a,null):r.a.createElement(B.a,null))))}}]),a}(r.a.Component);K.protoType={open:E.a.bool.isRequired,parentActionOnCloseDrawer:E.a.func.isRequired,optionsMenu:E.a.array.isRequired};var Z=K,G=a(190),$=a(191),Q=a(192),X=a(193),Y=a(194),ee=a(195),te=a(196),ae=a(200);function ne(e){var t=e.children,a=Object(w.a)();return r.a.createElement(b.a,{appear:!1,direction:"down",in:!a,timeout:1e3},t)}function re(e){e===P.t("language.french")?P.changeLanguage("fr"):e===P.t("language.english")&&P.changeLanguage("en"),document.location.reload()}function se(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),s=a[0],l=a[1],o=function(){l(!s)},i=[{item:P.t("HeaderMenu.home"),linkTo:"/",iconMenu:r.a.createElement(G.a,null)}];e.loginState.token?(i.push({item:P.t("HeaderMenu.my.account"),linkTo:"/user/my_account",iconMenu:r.a.createElement(X.a,null)}),i.push({item:P.t("HeaderMenu.logout"),linkTo:"/logout",iconMenu:r.a.createElement(Y.a,null)})):(i.push({item:P.t("HeaderMenu.login"),linkTo:"/login",iconMenu:r.a.createElement($.a,null)}),i.push({item:P.t("HeaderMenu.sign.up"),linkTo:"/user/new_user",iconMenu:r.a.createElement(Q.a,null)})),null!=e.loginState.token&&e.loginState.isAsso&&(i.push({item:P.t("HeaderMenu.users.list"),linkTo:"/user/users_list",iconMenu:r.a.createElement(ee.a,null)}),i.push({item:P.t("HeaderMenu.test"),linkTo:"/test",iconMenu:r.a.createElement(te.a,null)}));var c=[{item:P.t("language.french")},{item:P.t("language.english")}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{open:s,parentActionOnCloseDrawer:o,optionsMenu:i}),r.a.createElement(ne,e,r.a.createElement(v.a,{position:"fixed"},r.a.createElement(y.a,null,r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(x.a,{container:!0},r.a.createElement(S.a,{edge:"start",color:"inherit",size:"small",onClick:o},r.a.createElement(ae.a,null)),r.a.createElement(C.a,{variant:"h6"},P.t("HeaderMenu.Menu")))),r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(z,{title:P.t("HeaderMenu.Menu"),options:i}))),r.a.createElement(x.a,{item:!0,xs:4},r.a.createElement(x.a,{container:!0,justify:"flex-end"},r.a.createElement(z,{title:P.t("change.language"),options:c,setAction:re}),e.loginState.token&&r.a.createElement(N.a,{title:e.loginState.firstName+" "+e.loginState.lastName},r.a.createElement($.a,{fontSize:"large"})))))))),r.a.createElement(y.a,null))}se.prototype={loginState:E.a.array.isRequired};var le=a(201);function oe(e){return r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(le.a,null,r.a.createElement("img",{src:"/img/saxon-switzerland.jpg",alt:P.t("image.home.alt")}),r.a.createElement(C.a,{align:"center"},P.t("welcome.message"))))}var ie=a(10),ce=a.n(ie),ue=a(16),me=a(52),de=a(227),pe=a(204),he=a(229),ge=a(202),fe=a(205),Ee=a(206),we=a(207),be=window.general_api_url_root,ve=be+"/login",xe=be+"/user/users_list",Ne=be+"/user/user_details",ye=be+"/user/delete",Ce=be+"/user/register_new_user",Se=be+"/user/my_account",Oe=be+"/user/change_account",je=be+"/user/change_password",Pe=be+"/city/list",ke=window.JWT_TOKEN_climbing;function Ae(){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(ue.a)(ce.a.mark((function e(){var t,a,n,r,s,l,o,i=arguments;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",a=i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2?i[2]:void 0,r=sessionStorage.getItem(ke),s={"Content-Type":"application/json;charset=utf-8"},r&&(s.Authorization="Bearer "+r),e.next=8,fetch(t,{method:n,headers:s,body:JSON.stringify(a)});case 8:return l=e.sent,o={},e.prev=10,e.next=13,l.json();case 13:o=e.sent,e.next=18;break;case 16:e.prev=16,e.t0=e.catch(10);case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,null,[[10,16]])})))).apply(this,arguments)}function De(e,t){return Ae(e,t,"POST")}function Te(e,t){return Ae(e,t,"PUT")}function Me(){return(Me=Object(ue.a)(ce.a.mark((function e(){var t,a,n,r,s,l=arguments;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:"",a=sessionStorage.getItem(ke),n={"Content-Type":"application/json;charset=utf-8"},a&&(n.Authorization="Bearer "+a),e.next=6,fetch(t,{method:"GET",headers:n});case 6:return r=e.sent,s={},e.prev=8,e.next=11,r.json();case 11:s=e.sent,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(8);case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,null,[[8,14]])})))).apply(this,arguments)}function Re(e){return function(){return Me.apply(this,arguments)}(e)}function Ue(e){return!(!e||"string"!==typeof e)&&null!=e.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)}function ze(e){if(!e||"string"!==typeof e||e.length<10)return!1;return null!=e.match("^(01|02|03|04|05|06|07|09)[.| ]{0,1}[0-9]{2}[.| ]{0,1}[0-9]{2}[.| ]{0,1}[0-9]{2}[.| ]{0,1}[0-9]{2}$")}function He(e){if(!e)return!1;if(null!=e.firstName&&e.firstName.length<3)return!1;if(null!=e.lastName&&e.lastName.length<3)return!1;if(e.phoneNumber&&!ze(e.phoneNumber))return!1;if(1!==e.role&&2!==e.role)return!1;if(!e.addressDetails)return!0;var t=e.addressDetails;return!(t.address&&t.address.length>255)&&((!t.zipCode||5===t.zipCode.length&&!isNaN(t.zipCode))&&(!(t.city&&t.city.length>50)&&!(t.country&&t.country.length>50)))}function Le(e){return null===e||"string"!==typeof e?0:[e.length>5,e.length>7,e.length>9,e.search(/[A-Z]/)>-1,e.search(/[A-Z].*?[A-Z]/)>-1,e.search(/[a-z]/)>-1,e.search(/[a-z].*?[a-z]/)>-1,e.search(/[0-9]/)>-1,e.search(/[^a-zA-Z0-9]/)>-1,e.search(/[^a-zA-Z0-9].*?[^a-zA-Z0-9]/)>-1].reduce((function(e,t){return e+t}),0)}var _e=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={buttonEnable:!1,name:"",password:"",showPassword:!1,logged:null},e.handleSubmitForm=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.password;return e.callAPI(ve,{name:n,password:r}),!1},e.handleChange=function(t){var a=e.state,n=a.name,r=a.password;e.setState(Object(me.a)({},t.target.name,t.target.value)),"name"===t.target.name&&(n=t.target.value),"password"===t.target.name&&(r=t.target.value),r.length>=4&&Ue(n)?e.setState({buttonEnable:!0}):e.setState({buttonEnable:!1})},e.handleClickShowPassword=function(){var t=e.state.showPassword;e.setState({showPassword:!t})},e}return Object(c.a)(a,[{key:"callAPI",value:function(){var e=Object(ue.a)(ce.a.mark((function e(t,a){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t,a);case 2:(n=e.sent).token&&n.logged?((0,this.props.setupLogin)(n.token,n.firstName,n.lastName,n.asso),this.props.history.push("/")):this.setState({logged:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.buttonEnable,a=e.showPassword,n=e.password,s=e.name,l=e.logged,o=this.props.classes;return r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(le.a,{className:o.root},r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(C.a,{variant:"h6",gutterBottom:!0},P.t("login.login"))),r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(de.a,{label:P.t("login.Name"),fullWidth:!0,value:s,onChange:this.handleChange,name:"name",autoFocus:!0}))),r.a.createElement("form",{onSubmit:this.handleSubmitForm},r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(pe.a,{fullWidth:!0},r.a.createElement(he.a,{htmlFor:"standard-adornment-password"},P.t("login.Password")),r.a.createElement(ge.a,{id:"standard-adornment-password",type:a?"text":"password",value:n,onChange:this.handleChange,name:"password",endAdornment:r.a.createElement(fe.a,{position:"end"},r.a.createElement(S.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,tabIndex:-1},a?r.a.createElement(Ee.a,null):r.a.createElement(we.a,null)))})))),r.a.createElement("br",null),!1===l&&r.a.createElement(C.a,{color:"secondary",variant:"h6"},P.t("login.login.false")),r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(k.a,{variant:"contained",color:"primary",disabled:!t,type:"submit"},P.t("login.login"))))))}}]),a}(r.a.Component);_e.protoType={setupLogin:E.a.func.isRequired};var Fe=Object(U.a)((function(e){return{root:{padding:"12px",margin:"30px",minWidth:"275px",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"}}}))(Object(h.h)(_e)),qe=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.setupLogout)()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(le.a,{className:e.root},r.a.createElement(C.a,{variant:"h6"},P.t("logout.logout.done"))))}}]),a}(r.a.Component);qe.protoType={setupLogout:E.a.func.isRequired};var Be=Object(U.a)((function(e){return{root:{padding:"30px",margin:"30px",minWidth:"275px",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)",textAlign:"center"}}}))(qe),We=a(215),Je=a(217),Ve=a(224),Ke=a(216),Ze=a(218),Ge=a(219),$e=a(220),Qe=a(208),Xe=a(212),Ye=a(210),et=a(211),tt=a(209),at=r.a.forwardRef((function(e,t){return r.a.createElement(b.a,Object.assign({direction:"up",ref:t},e,{timeout:1200}))}));function nt(e){var t=e.handleAgree,a=e.handleDisagree,n=e.dialog;return r.a.createElement("div",null,r.a.createElement(Qe.a,{open:!0,TransitionComponent:at,keepMounted:!0,onClose:t},r.a.createElement(tt.a,{className:"warning"},P.t("AlertDialogSlide.Warning")),r.a.createElement(Ye.a,null,r.a.createElement(et.a,null,n)),r.a.createElement(Xe.a,null,r.a.createElement(k.a,{onClick:a,color:"primary"},P.t("AlertDialogSlide.Disagree")),r.a.createElement(k.a,{onClick:t,color:"primary"},P.t("AlertDialogSlide.Agree")))))}nt.prototype={handleAgree:E.a.func.isRequired,handleDisagree:E.a.func.isRequired,dialog:E.a.string.isRequired};var rt=a(101),st=a(62),lt=a(213),ot=a(214),it=a(99),ct=a.n(it),ut=a(98),mt=a.n(ut),dt=a(63);function pt(){var e=Object(st.a)(["\n  width: 300px;\n  margin: 2px 0 0;\n  padding: 0;\n  position: absolute;\n  list-style: none;\n  background-color: #fff;\n  overflow: auto;\n  max-height: 250px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1;\n\n  & li {\n    padding: 5px 12px;\n    display: flex;\n\n    & span {\n      flex-grow: 1;\n    }\n\n    & svg {\n      color: transparent;\n    }\n  }\n\n  & li[aria-selected='true'] {\n    background-color: #fafafa;\n    font-weight: 600;\n\n    & svg {\n      color: #1890ff;\n    }\n  }\n\n  & li[data-focus='true'] {\n    background-color: #e6f7ff;\n    cursor: pointer;\n\n    & svg {\n      color: #000;\n    }\n  }\n"]);return pt=function(){return e},e}function ht(){var e=Object(st.a)(["\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin: 2px;\n  line-height: 22px;\n  background-color: #fafafa;\n  border: 1px solid #e8e8e8;\n  border-radius: 2px;\n  box-sizing: content-box;\n  padding: 0 4px 0 10px;\n  outline: 0;\n  overflow: hidden;\n\n  &:focus {\n    border-color: #40a9ff;\n    background-color: #e6f7ff;\n  }\n\n  & span {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  & svg {\n    font-size: 12px;\n    cursor: pointer;\n    padding: 4px;\n  }\n"]);return ht=function(){return e},e}function gt(){var e=Object(st.a)(["\n  width: 300px;\n  border: 1px solid #d9d9d9;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 1px;\n  display: flex;\n  flex-wrap: wrap;\n\n  &:hover {\n    border-color: #40a9ff;\n  }\n\n  &.focused {\n    border-color: #40a9ff;\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\n  }\n\n  & input {\n    font-size: 14px;\n    height: 30px;\n    box-sizing: border-box;\n    padding: 4px 6px;\n    width: 0;\n    min-width: 30px;\n    flex-grow: 1;\n    border: 0;\n    margin: 0;\n    outline: 0;\n  }\n"]);return gt=function(){return e},e}function ft(){var e=Object(st.a)(["\n  padding: 0 0 4px;\n  line-height: 1.5;\n  display: block;\n"]);return ft=function(){return e},e}var Et=Object(dt.a)("label")(ft()),wt=Object(dt.a)("div")(gt()),bt=Object(dt.a)((function(e){var t=e.label,a=e.onDelete,n=Object(rt.a)(e,["label","onDelete"]);return r.a.createElement("div",n,r.a.createElement("span",null,t),r.a.createElement(mt.a,{onClick:a}))}))(ht()),vt=Object(dt.a)("ul")(pt());function xt(e){var t=Object(lt.a)({id:"customized-hook",options:e.options,defaultValue:e.defaultValue,getOptionLabel:function(e){return e.title},onChange:function(e,t){return p(t)},onInputChange:function(e,t){return h(t)},multiple:e.multiple}),a=t.getRootProps,n=t.getInputLabelProps,s=t.getInputProps,l=t.getTagProps,o=t.getListboxProps,i=t.getOptionProps,c=t.groupedOptions,u=t.value,m=t.focused,d=t.setAnchorEl,p=function(t){e.onChange&&e.onChange(t)},h=function(t){e.onInputChange&&e.onInputChange(t)};return r.a.createElement(ot.a,null,r.a.createElement("div",null,r.a.createElement("div",a(),r.a.createElement(Et,n(),e.label),r.a.createElement(wt,{ref:d,className:m?"focused":""},u instanceof Array&&u.map((function(e,t){return r.a.createElement(bt,Object.assign({label:e.title},l({index:t})))})),r.a.createElement("input",s()))),c.length>0?r.a.createElement(vt,o(),c.map((function(e,t){return r.a.createElement("li",i({option:e,index:t}),r.a.createElement("span",null,e.title),e.zipcode&&r.a.createElement("div",null,e.zipcode),r.a.createElement(ct.a,{fontSize:"small"}))}))):null))}xt.prototype={onChange:E.a.func.isRequired,onInputChange:E.a.func,defaultValue:E.a.array,multiple:E.a.bool.isRequired,options:E.a.arrayOf(E.a.shape({title:E.a.string.isRequired})),label:E.a.string.isRequired};var Nt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={cityList:null,citiesSelected:null},e.handleOnChangeCities=function(t){e.setState({citiesSelected:t}),e.props.onChange&&e.props.onChange(t)},e.handleOnInputChange=function(t){e.callAPIGetCityList({startCitiesToFind:t})},e}return Object(c.a)(a,[{key:"callAPIGetCityList",value:function(){var e=Object(ue.a)(ce.a.mark((function e(t){var a,n,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(Pe,t);case 2:if((a=e.sent)&&"OK"===a.status){e.next=5;break}return e.abrupt("return");case 5:n=this.state.citiesSelected,r=a.payload.map((function(e,t){return{title:e.name,zipcode:e.zipcode}})),n&&n.forEach((function(e){return r.push(e)})),this.setState({cityList:r});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.callAPIGetCityList({startCitiesToFind:""})}},{key:"render",value:function(){var e=this.state.cityList;return r.a.createElement("div",null,e&&r.a.createElement(xt,{defaultValue:[],options:e,onChange:this.handleOnChangeCities,onInputChange:this.handleOnInputChange,multiple:!0,label:P.t("InputSelectCities.Filter.choice.cities")}))}}]),a}(r.a.Component);xt.prototype={onChange:E.a.func.isRequired};var yt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={usersData:null,userDetails:null,displayModal:!1,numberInPage:5,cities:null,cityList:null,citiesOrigin:null},e.getArrayToSendFromCities=function(){var t=e.state.cities;return null===t||0===t.length?null:t.map((function(e){return e.title}))},e.handleOtherPage=function(t){var a=e.state,n=a.usersData,r=a.numberInPage;if(n){var s=n.currentPage,l=n.numberOfPages,o=s+parseInt(t.target.value||t.target.parentNode.value);o<0&&(o=0),o>=l&&(o=l-1);var i={numPage:o,numberInPage:r,cities:e.getArrayToSendFromCities()};e.callAPIUsersList(i)}},e.handleUserDetailsChoice=function(t){e.callAPIUserDetails({id:t.target.value})},e.handleNumberInPage=function(t){var a=t.target,n=e.state,r=n.numberInPage,s=n.usersData;if(r!==a.value){var l=s.currentPage*r/a.value;e.setState({numberInPage:a.value}),e.callAPIUsersList({numPage:l,numberInPage:a.value,cities:e.getArrayToSendFromCities()})}},e.handleChangeUser=function(){var t=e.state,a=t.userDetails.id,n=t.numberInPage,r=e.state.usersData;if(r&&a){var s=r.currentPage;e.props.history.push("/user/change?id="+a+"&currentPage="+s+"&numberInPage="+n)}},e.handleDeleteUser=function(t){e.setState({displayModal:!0})},e.handleAgreeModal=function(){var t=e.state.userDetails.id;e.setState({displayModal:!1}),e.callAPIDeleteUser(t)},e.handleDisagreeModal=function(){e.setState({displayModal:!1})},e.handleOnChangeCities=function(t){e.setState({cities:t})},e.handleReload=function(){var t=e.state.numberInPage;e.callAPIUsersList({numPage:0,numberInPage:t,cities:e.getArrayToSendFromCities()})},e.userDetails=function(){var t=e.state,a=t.userDetails,n=t.displayModal,s=e.props.classes;return r.a.createElement(le.a,{className:s.root},r.a.createElement(We.a,{action:r.a.createElement(Ke.a,{className:s.close,color:"disabled",onClick:function(){return e.setState({userDetails:null})}})}),r.a.createElement("ul",null,a&&r.a.createElement("div",null,r.a.createElement(C.a,{variant:"h6",align:"center"},a.firstName+" "+a.lastName),r.a.createElement("ul",null,r.a.createElement("li",null,a.email),a.phoneNumber&&r.a.createElement("li",null,a.phoneNumber),a.addressDetails&&r.a.createElement("div",null,r.a.createElement("hr",null),a.addressDetails.address&&r.a.createElement("li",null,a.addressDetails.address),a.addressDetails.zipCode&&r.a.createElement("li",null,a.addressDetails.zipCode),a.addressDetails.city&&r.a.createElement("li",null,a.addressDetails.city),a.addressDetails.country&&r.a.createElement("li",null,a.addressDetails.country))))),r.a.createElement(Je.a,{disableSpacing:!0},r.a.createElement(S.a,{onClick:e.handleChangeUser},r.a.createElement(Ze.a,{color:"primary"}),r.a.createElement(C.a,{variant:"caption",color:"primary"},P.t("UserList.change"))),r.a.createElement(S.a,{className:s.deleteButton,onClick:e.handleDeleteUser,value:a.id},r.a.createElement(Ge.a,{color:"secondary"}))),n&&r.a.createElement(nt,{handleAgree:e.handleAgreeModal,handleDisagree:e.handleDisagreeModal,dialog:r.a.createElement("span",null,P.t("UsersList.alert.delete.modal"),r.a.createElement("br",null),r.a.createElement(C.a,{color:"secondary",variant:"inherit"},a.firstName+" "+a.lastName+", "+a.email))}))},e}return Object(c.a)(a,[{key:"callAPIUsersList",value:function(){var e=Object(ue.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(xe,t);case 2:a=e.sent,this.setState({usersData:a});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"callAPIUserDetails",value:function(){var e=Object(ue.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(Ne,t);case 2:a=e.sent,this.setState({userDetails:a});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"callAPIDeleteUser",value:function(){var e=Object(ue.a)(ce.a.mark((function e(t){var a,n,r,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,n=a.usersData.currentPage,r=a.numberInPage,e.next=3,Ae(ye+"/?id="+t,null,"DELETE");case 3:"OK"===(s=e.sent).status?(this.setState({userDetails:null}),this.callAPIUsersList({numPage:n,numberInPage:r,cities:this.getArrayToSendFromCities()})):alert(P.t("UsersList.alert.delete.nok")+s.reason);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e,t=new URLSearchParams(this.props.location.search),a=t.get("currentPage"),n=t.get("numberInPage");a&&n?(this.setState({numberInPage:n}),e={numPage:a,numberInPage:n}):e={numPage:"0",numberInPage:"5"},this.callAPIUsersList(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.usersData,n=t.userDetails,s=t.numberInPage,l=this.props.classes,o=!(a&&0!==a.currentPage),i=!(a&&a.currentPage+1<a.numberOfPages);return r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(le.a,{className:l.root},r.a.createElement(C.a,{variant:"h6",align:"center"},P.t("UsersList.UsersList")),a&&a.usersList&&r.a.createElement("ul",null,a.usersList.map((function(t,a){return r.a.createElement("li",{className:l.li,key:a,value:t.id,onClick:e.handleUserDetailsChoice},t.firstName+" "+t.lastName+", "+t.user)}))),r.a.createElement(x.a,{container:!0,justify:"space-evenly"},r.a.createElement(k.a,{onClick:this.handleOtherPage,value:-1,disabled:o,variant:"contained",color:"primary"},P.t("UsersList.Previous")),r.a.createElement(k.a,{onClick:this.handleOtherPage,value:1,disabled:i,variant:"contained",color:"primary"},P.t("UsersList.Next"))),r.a.createElement(L.a,{className:l.divider}),r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0},r.a.createElement(Nt,{onChange:this.handleOnChangeCities})),r.a.createElement(x.a,{item:!0,style:{marginTop:"20px"}},r.a.createElement(S.a,{onClick:this.handleReload},r.a.createElement($e.a,null)))),r.a.createElement(L.a,null),r.a.createElement(x.a,{container:!0,justify:"flex-end"},r.a.createElement(x.a,{item:!0},r.a.createElement("div",{className:l.select},r.a.createElement(C.a,{variant:"caption",display:"block"},P.t("UsersList.number.of.displayable.page")),r.a.createElement(Ve.a,{value:s,variant:"outlined",margin:"dense",onChange:this.handleNumberInPage},r.a.createElement(I.a,{value:5},"5"),r.a.createElement(I.a,{value:10},"10"),r.a.createElement(I.a,{value:20},"20")))))),n&&this.userDetails())}}]),a}(r.a.Component),Ct=Object(U.a)((function(e){return{root:{padding:"12px",margin:"30px",width:"450px",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"},li:{margin:"0 0 10px 0","&:hover":{cursor:"pointer"}},close:{"&:hover":{cursor:"pointer"}},deleteButton:{marginLeft:"auto"},select:{float:"right"},divider:{marginTop:"20px",marginBottom:"20px"}}}))(Object(h.h)(yt)),St=a(221);a(128);function Ot(e){var t=e.strength;return r.a.createElement("div",{className:"strength"},r.a.createElement("span",{className:"bar bar-1"+(t>0?" bar-show":"")}),r.a.createElement("span",{className:"bar bar-2"+(t>3?" bar-show":"")}),r.a.createElement("span",{className:"bar bar-3"+(t>5?" bar-show":"")}),r.a.createElement("span",{className:"bar bar-4"+(t>8?" bar-show":"")}))}var jt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",emailError:!1,emailHelperText:"",password:"",pwdError:!1,pwdHelperText:"",passwordStrength:0,passwordStrengthShow:!1,passwordConfirm:"",pwdConfirmError:!1,pwdConfirmHelperText:"",showPasswords:!1,submitDisabled:!0,firstName:"",firstNameError:!1,firstNameHelperText:"",lastName:"",lastNameError:!1,lastNameHelperText:"",callApiRunning:!1,errorReason:null},e.handleChangeEmail=function(t){var a=e.state,n=a.password,r=a.passwordConfirm,s=a.firstName,l=a.lastName,o=t.target.value;Ue(o)?e.setState({email:o,emailError:!1,emailHelperText:""}):e.setState({email:o,emailError:!0,emailHelperText:P.t("InputNewUser.email.error")});var i=e.checkForEnableSubmit(o,n,r,s,l);e.setState({submitDisabled:!i})},e.handleClickShowPassword=function(){var t=e.state.showPasswords;e.setState({showPasswords:!t})},e.handleChangePasswords=function(t){var a=e.state,n=a.password,r=a.passwordConfirm,s=a.email,l=a.firstName,o=a.lastName,i=t.target.value,c=t.target.name;if("password"===c){i&&i.length<4?e.setState({pwdHelperText:P.t("InputNewUser.password.not.enough.Strong"),pwdError:!0}):e.setState({pwdHelperText:"",pwdError:!1}),i&&i!==r?e.setState({pwdConfirmHelperText:P.t("InputNewUser.password.confirm.notequal.password"),pwdConfirmError:!0}):e.setState({pwdConfirmHelperText:"",pwdConfirmError:!1});var u=e.checkForEnableSubmit(s,i,r,l,o),m=Le(i);e.setState({password:i,submitDisabled:!u,passwordStrength:m})}else if("passwordConfirm"===c){i&&i!==n?e.setState({pwdConfirmHelperText:P.t("InputNewUser.password.confirm.notequal.password"),pwdConfirmError:!0}):e.setState({pwdConfirmHelperText:"",pwdConfirmError:!1});var d=e.checkForEnableSubmit(s,n,i,l,o);e.setState({passwordConfirm:i,submitDisabled:!d})}},e.handleChangeName=function(t){var a=e.state,n=a.email,r=a.password,s=a.passwordConfirm,l=a.firstName,o=a.lastName,i=t.target.value;e.setState(Object(me.a)({},t.target.name,i));var c=!1;"firstName"===t.target.name?(i&&i.length<3?e.setState({firstNameError:!0,firstNameHelperText:P.t("InputNewUSer.firstName.tooShort")}):e.setState({firstNameError:!1,firstNameHelperText:""}),c=e.checkForEnableSubmit(n,r,s,i,o)):"lastName"===t.target.name&&(i&&i.length<3?e.setState({lastNameError:!0,lastNameHelperText:P.t("InputNewUSer.lastName.tooShort")}):e.setState({lastNameError:!1,lastNameHelperText:""}),c=e.checkForEnableSubmit(n,r,s,l,i)),e.setState({submitDisabled:!c})},e.handleClearInfo=function(){e.setState({email:"",emailError:!1,emailHelperText:"",password:"",pwdError:!1,pwdHelperText:"",passwordStrength:0,passwordStrengthShow:!1,passwordConfirm:"",pwdConfirmError:!1,pwdConfirmHelperText:"",submitDisabled:!0,firstName:"",firstNameError:!1,firstNameHelperText:"",lastName:"",lastNameError:!1,lastNameHelperText:"",callApiRunning:!1,errorReason:null})},e.handlePasswordStrengthHide=function(){e.setState({passwordStrengthShow:!1})},e.handlePasswordStrengthShow=function(){e.setState({passwordStrengthShow:!0})},e.handleSubmit=function(){var t=e.state,a=t.email,n=t.password,r=t.passwordConfirm,s=t.firstName,l=t.lastName;if(e.checkForEnableSubmit(a,n,r,s,l)){var o={email:a,password:n,passwordConfirm:r,firstName:s,lastName:l,errorReason:null};e.setState({callApiRunning:!0}),e.callApi(o)}},e}return Object(c.a)(a,[{key:"checkForEnableSubmit",value:function(e,t,a,n,r){return!!(Ue(e)&&t&&t.length>=4&&t===a&&n&&n.length>=3&&r&&r.length>=3)}},{key:"callApi",value:function(){var e=Object(ue.a)(ce.a.mark((function e(t){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.setupLogin,e.next=3,De(Ce,t);case 3:n=e.sent,this.setState({callApiRunning:!1}),n.token?(a(n.token,n.firstName,n.lastName,n.asso),window.location="/"):this.setState({errorReason:n.errorReason});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.email,n=t.emailError,s=t.emailHelperText,l=t.showPasswords,o=t.password,i=t.passwordConfirm,c=t.pwdError,u=t.pwdConfirmError,m=t.pwdHelperText,d=t.pwdConfirmHelperText,p=t.submitDisabled,h=t.firstName,g=t.firstNameError,f=t.firstNameHelperText,E=t.lastName,w=t.lastNameError,v=t.lastNameHelperText,N=t.callApiRunning,y=t.errorReason,O=t.passwordStrengthShow,j=t.passwordStrength;return r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(le.a,{className:e.root},r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"h6",align:"center"},P.t("InputNewUser.sign.up"))),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(de.a,{className:e.textfield,error:n,label:P.t("InputNewUser.email"),helperText:s,onChange:this.handleChangeEmail,value:a,autoFocus:!0,fullWidth:!0})),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement("div",null)),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement("div",{onBlur:this.handlePasswordStrengthHide,onFocus:this.handlePasswordStrengthShow},r.a.createElement(de.a,{className:e.textfield,type:l?"text":"password",error:c,label:P.t("InputNewUser.password"),helperText:m,onChange:this.handleChangePasswords,value:o,name:"password",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(fe.a,{position:"end"},r.a.createElement(S.a,{onClick:this.handleClickShowPassword,tabIndex:-1},l?r.a.createElement(Ee.a,null):r.a.createElement(we.a,null)))}}),r.a.createElement(b.a,{in:O,direction:"left",timeout:2e3},r.a.createElement("div",null,r.a.createElement(Ot,{strength:j}))))),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(de.a,{className:e.textfield,type:l?"text":"password",error:u,label:P.t("InputNewUser.password.confirm"),helperText:d,onChange:this.handleChangePasswords,value:i,name:"passwordConfirm",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(fe.a,{position:"end"},r.a.createElement(S.a,{onClick:this.handleClickShowPassword,tabIndex:-1},l?r.a.createElement(Ee.a,null):r.a.createElement(we.a,null)))}})),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(de.a,{className:e.textfield,error:g,label:P.t("InputNewUser.firstName"),helperText:f,onChange:this.handleChangeName,value:h,name:"firstName",fullWidth:!0})),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(de.a,{className:e.textfield,error:w,label:P.t("InputNewUser.lastName"),helperText:v,onChange:this.handleChangeName,value:E,name:"lastName",fullWidth:!0})),N&&r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(St.a,null)),r.a.createElement(x.a,{container:!0,justify:"space-between",className:e.buttonaction},r.a.createElement(x.a,{item:!0},r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:this.handleClearInfo},P.t("InputNewUser.button.name.clear"))),r.a.createElement(x.a,{item:!0},r.a.createElement(k.a,{variant:"contained",color:"primary",disabled:p,onClick:this.handleSubmit},P.t("InputNewUser.button.name.submit")))),y&&r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(C.a,{color:"secondary"},y))))}}]),a}(r.a.Component);jt.propType={setupLogin:E.a.func.isRequired};var Pt=Object(U.a)((function(e){return{root:{padding:"12px",margin:"30px",minWidth:"275px",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"},textfield:{paddingBottom:"10px"},buttonaction:{paddingTop:"20px"}}}))(jt),kt=a(222),At=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={account:null,changeAccount:!1,changeRoleDisabled:!0,changeEmailDisabled:!0,emailError:!1,submitDisabled:!0,firstNameError:!1,lastNameError:!1,phoneNumberError:!1,zipCodeError:!1,anchorEl:null},e.handleTextField=function(t){var a=t.target,n=a.value,r=a.name,s=e.state,l=s.account,i=s.firstNameError,c=s.lastNameError,u=s.phoneNumberError,m=s.emailError,d=!1;if("email"===r){var p=Object(o.a)(Object(o.a)({},l),{},{email:n});d=He(p),e.setState({account:p}),Ue(n)||m?Ue(n)&&m&&e.setState({emailError:!1}):e.setState({emailError:!0})}else if("firstName"===r){var h=Object(o.a)(Object(o.a)({},l),{},{firstName:n});d=He(h),e.setState({account:h}),n.length<3&&!i?e.setState({firstNameError:!0}):n.length>=3&&i&&e.setState({firstNameError:!1})}else if("lastName"===r){var g=Object(o.a)(Object(o.a)({},l),{},{lastName:n});d=He(g),e.setState({account:g}),n.length<3&&!c?e.setState({lastNameError:!0}):n.length>=3&&c&&e.setState({lastNameError:!1})}else if("phoneNumber"===r){var f=Object(o.a)(Object(o.a)({},l),{},{phoneNumber:n});d=He(f),e.setState({account:f});var E=ze(n)||""===n;E||u?E&&u&&e.setState({phoneNumberError:!1}):e.setState({phoneNumberError:!0})}else if("role"===r){var w=Object(o.a)(Object(o.a)({},l),{},{role:n});d=He(w),e.setState({account:w})}else if("address"===r){if(!n||n.length<=255){var b=Object(o.a)(Object(o.a)({},l),{},{addressDetails:Object(o.a)(Object(o.a)({},l.addressDetails),{},{address:n})});d=He(b),e.setState({account:b})}}else if("zipCode"===r){if(!n||n.length<=5){var v=Object(o.a)(Object(o.a)({},l),{},{addressDetails:Object(o.a)(Object(o.a)({},l.addressDetails),{},{zipCode:n})});d=He(v),e.setState({account:v}),n.length>0&&n.length<5||isNaN(n)?e.setState({zipCodeError:!0}):e.setState({zipCodeError:!1})}}else if("city"===r){if(!n||n.length<=50){var x=Object(o.a)(Object(o.a)({},l),{},{addressDetails:Object(o.a)(Object(o.a)({},l.addressDetails),{},{city:n})});d=He(x),e.setState({account:x})}}else if("country"===r&&(!n||n.length<=50)){var N=Object(o.a)(Object(o.a)({},l),{},{addressDetails:Object(o.a)(Object(o.a)({},l.addressDetails),{},{country:n})});d=He(N),e.setState({account:N})}d?e.setState({submitDisabled:!1}):e.setState({submitDisabled:!0})},e.handleOpenMenu=function(t){var a=t.target;e.setState({anchorEl:a})},e.handleCloseMenu=function(t){e.setState({anchorEl:null});var a,n=e.props.changePassword;t.currentTarget&&t.currentTarget.attributes&&t.currentTarget.attributes.value&&t.currentTarget.attributes.value.value&&(a=t.currentTarget.attributes.value.value),n&&"changePasswordEvent"===a&&n()},e.displayChangeAccount=function(){var t=e.state,a=t.account,n=t.submitDisabled,s=t.changeRoleDisabled,l=t.changeEmailDisabled,o=t.emailError,i=t.firstNameError,c=t.lastNameError,u=t.phoneNumberError,m=t.zipCodeError,d=t.anchorEl,p=null;a&&(p=a.addressDetails);var h=e.props.classes;return r.a.createElement("div",null,a&&r.a.createElement(x.a,{container:!0,className:h.gridContainer},r.a.createElement(x.a,{item:!0,xs:1,className:h.gridItem}),r.a.createElement(x.a,{item:!0,xs:10,className:h.gridItem},r.a.createElement(C.a,{align:"center",variant:"h6"},e.props.title)),r.a.createElement(x.a,{item:!0,xs:1},e.props.changePasswordEnabled&&r.a.createElement("div",null,r.a.createElement(S.a,{onClick:e.handleOpenMenu},r.a.createElement(kt.a,null)),r.a.createElement(A.a,{anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:e.handleCloseMenu,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(I.a,{onClick:e.handleCloseMenu,value:"changePasswordEvent"},P.t("AnAccount.change.password"))))),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},P.t("AnAccount.FirstName"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},r.a.createElement(de.a,{value:a.firstName,name:"firstName",onChange:e.handleTextField,error:i})),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},P.t("AnAccount.LastName"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},r.a.createElement(de.a,{value:a.lastName,name:"lastName",onChange:e.handleTextField,error:c})),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},P.t("AnAccount.Email"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},r.a.createElement(de.a,{value:a.email,name:"email",disabled:l,onChange:e.handleTextField,error:o})),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},P.t("AnAccount.Phone.number"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},r.a.createElement(de.a,{value:a.phoneNumber?a.phoneNumber:"",name:"phoneNumber",onChange:e.handleTextField,error:u})),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},P.t("AnAccount.Role"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},r.a.createElement(Ve.a,{value:a.role,fullWidth:!0,name:"role",onChange:e.handleTextField,disabled:s},r.a.createElement(I.a,{value:1},P.t("AnAccount.user.member")),r.a.createElement(I.a,{value:2},P.t("AnAccount.asso.member")))),p&&r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},P.t("AnAccount.Address"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},r.a.createElement(de.a,{value:p.address?p.address:"",name:"address",onChange:e.handleTextField})),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},P.t("AnAccount.Zip.code"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},r.a.createElement(de.a,{value:p.zipCode?p.zipCode:"",name:"zipCode",onChange:e.handleTextField,error:m})),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},P.t("AnAccount.City"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},r.a.createElement(de.a,{value:p.city?p.city:"",name:"city",onChange:e.handleTextField})),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},P.t("AnAccount.Country"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:h.gridItem},r.a.createElement(de.a,{value:p.country?p.country:"",name:"country",onChange:e.handleTextField}))),r.a.createElement(x.a,{container:!0,justify:"space-evenly"},r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:e.handleCancelChange},P.t("AnAccount.Cancel")),r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:e.handleRegisterData,disabled:n},P.t("AnAccount.Register")))))},e.handleRegisterData=function(){var t=e.state.account;He(t)&&(e.props.validateAccount(t),e.setState({submitDisabled:!0}))},e.handleCancelChange=function(){e.props.cancelChange()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({account:this.props.account,changeRoleDisabled:this.props.changeRoleDisabled,changeEmailDisabled:this.props.changeEmailDisabled})}},{key:"render",value:function(){return this.displayChangeAccount()}}]),a}(r.a.Component);At.propType={account:E.a.object.isRequired,validateAccount:E.a.func.isRequired,cancelChange:E.a.func.isRequired,changeRoleDisabled:E.a.bool.isRequired,changeEmailDisabled:E.a.bool.isRequired,title:E.a.string.isRequired,changePasswordEnabled:E.a.bool,changePassword:E.a.func};var It=Object(U.a)((function(e){return{card:{padding:"12px",margin:"30px",minWidth:"275px",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"},gridItem:{marginTop:"12px",marginBottom:"12px"},gridContainer:{maxWidth:"500px"}}}))(At),Dt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={account:null,changeAccount:!1,changeRoleDisabled:!0,submitDisabled:!0,firstNameError:!1,lastNameError:!1,phoneNumberError:!1,zipCodeError:!1,anchorEl:null},e.handleDisplayToChange=function(){e.setState({changeAccount:!0})},e.handleCancelUpdate=function(){e.setState({changeAccount:!1})},e.handleChangePassword=function(){e.props.history.push("/user/my_account/password")},e.handleSendUpdate=function(t){e.setState({submitDisabled:!0});var a=t;if(null!==a.phoneNumber&&""===a.phoneNumber&&(a=Object(o.a)(Object(o.a)({},a),{},{phoneNumber:null})),a.addressDetails){var n=a.addressDetails;""===n.address&&(n=Object(o.a)(Object(o.a)({},n),{},{address:null})),""===n.zipCode&&(n=Object(o.a)(Object(o.a)({},n),{},{zipCode:null})),""===n.city&&(n=Object(o.a)(Object(o.a)({},n),{},{city:null})),""===n.country&&(n=Object(o.a)(Object(o.a)({},n),{},{country:null})),a=null===n.address&&null===n.zipCode&&null===n.city&&null===n.country?Object(o.a)(Object(o.a)({},a),{},{addressDetails:null}):Object(o.a)(Object(o.a)({},a),{},{addressDetails:n})}e.callAPIUpdate(a)},e.displayAccount=function(){var t=e.state.account,a=null;t&&(a=t.addressDetails);var n=e.props.classes;return r.a.createElement("div",null,t&&r.a.createElement(x.a,{container:!0,className:n.gridContainer},r.a.createElement(x.a,{item:!0,xs:12,className:n.gridItem},r.a.createElement(C.a,{align:"center",variant:"h6"},P.t("MyAccount.My.account"))),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},P.t("MyAccount.FirstName"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},t.firstName),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},P.t("MyAccount.LastName"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},t.lastName),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},P.t("MyAccount.Email"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},t.email),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},P.t("MyAccount.Phone.number"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},t.phoneNumber),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},P.t("MyAccount.Role"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},2===t.role?P.t("MyAccount.asso.member"):P.t("MyAccount.user.member")),a&&r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},P.t("MyAccount.Address"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},a.address),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},P.t("MyAccount.Zip.code"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},a.zipCode),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},P.t("MyAccount.City"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},a.city),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},P.t("MyAccount.Country"),":"),r.a.createElement(x.a,{item:!0,xs:6,className:n.gridItem},a.country)),r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:e.handleDisplayToChange},P.t("MyAccount.Change")))))},e}return Object(c.a)(a,[{key:"callAPIGet",value:function(){var e=Object(ue.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(Se);case 2:t=e.sent,this.setState({account:t,changeRoleDisabled:t.role<2});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"callAPIUpdate",value:function(){var e=Object(ue.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(Se,t);case 2:a=e.sent,this.setState({account:a,changeAccount:!1,changeRoleDisabled:a.role<2,submitDisabled:!0,firstNameError:!1,lastNameError:!1,phoneNumberError:!1,zipCodeError:!1}),Jt.setupUserInfoStatic(a.firstName,a.lastName,2===a.role);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.callAPIGet()}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.changeAccount,n=t.changeRoleDisabled,s=t.account;return r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(le.a,{className:e.card},a?r.a.createElement(It,{title:P.t("InputChangeUser.User.info"),account:s,validateAccount:this.handleSendUpdate,cancelChange:this.handleCancelUpdate,changeRoleDisabled:n,changeEmailDisabled:!0,changePasswordEnabled:!0,changePassword:this.handleChangePassword}):this.displayAccount()))}}]),a}(r.a.Component),Tt=Object(U.a)((function(e){return{card:{padding:"12px",margin:"30px",minWidth:"275px",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"},gridItem:{marginTop:"12px",marginBottom:"12px"},gridContainer:{maxWidth:"500px"}}}))(Object(h.h)(Dt)),Mt=a(223),Rt=Object(Mt.a)({root:{padding:"12px",margin:"30px",minWidth:"275px",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"},gridContainer:{maxWidth:"500px"},gridItem:{marginTop:"12px",marginBottom:"12px"}});function Ut(e){var t=Rt(),a=Object(n.useState)(null),s=Object(g.a)(a,2),l=s[0],i=s[1],c=Object(n.useState)({}),u=Object(g.a)(c,2),m=u[0],d=u[1],p=Object(n.useState)({}),f=Object(g.a)(p,2),E=f[0],w=f[1],v=Object(n.useState)(null),N=Object(g.a)(v,2),y=N[0],S=N[1],O=Object(n.useState)({state:!1,lastColor:"primary"}),j=Object(g.a)(O,2),k=j[0],A=j[1];function I(){return(I=Object(ue.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(Ne,t);case 2:(a=e.sent)&&t.id===""+a.id&&i(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(ue.a)(ce.a.mark((function e(t){var a,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(Oe,t);case 2:a=e.sent,n={state:!k.state,lastColor:y?"primary":"secondary",lastTypographyVariant:y?"body1":"h6"},a&&"OK"===a.status&&a.payload?(i(a.payload),w(m),d(JSON.parse(a.reason)),S(!0)):a&&"NOK"===a.status&&a.reason&&(w(m),d(JSON.parse(a.reason)),S(!1)),A(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=new URLSearchParams(Object(h.g)().search),M=T.get("id"),R=T.get("currentPage"),U=T.get("numberInPage");Object(n.useEffect)((function(){M&&function(e){I.apply(this,arguments)}({id:M})}),[M]);var z=Object(h.f)();return r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(le.a,{className:t.root},l&&r.a.createElement(It,{title:P.t("InputChangeUser.User.info"),account:l,validateAccount:function(e){var t=e;if(null!==t.phoneNumber&&""===t.phoneNumber&&(t=Object(o.a)(Object(o.a)({},t),{},{phoneNumber:null})),t.addressDetails){var a=t.addressDetails;""===a.address&&(a=Object(o.a)(Object(o.a)({},a),{},{address:null})),""===a.zipCode&&(a=Object(o.a)(Object(o.a)({},a),{},{zipCode:null})),""===a.city&&(a=Object(o.a)(Object(o.a)({},a),{},{city:null})),""===a.country&&(a=Object(o.a)(Object(o.a)({},a),{},{country:null})),t=null===a.address&&null===a.zipCode&&null===a.city&&null===a.country?Object(o.a)(Object(o.a)({},t),{},{addressDetails:null}):Object(o.a)(Object(o.a)({},t),{},{addressDetails:a})}!function(e){D.apply(this,arguments)}(t)},cancelChange:function(){R&&U?z.push("/user/users_list?currentPage="+R+"&numberInPage="+U):z.goBack()},changeRoleDisabled:!1,changeEmailDisabled:!1,changePasswordEnabled:!0,changePassword:function(){l&&l.id&&z.push("/user/change/password?id="+l.id)}}),r.a.createElement(x.a,{className:t.gridItem},r.a.createElement(b.a,{direction:y?"left":"right",timeout:3e3,in:k.state},r.a.createElement(C.a,{align:"center",variant:k.state?y?"body1":"h6":k.lastTypographyVariant,color:k.state?y?"primary":"secondary":k.lastColor},k.state?P.t(m.key):P.t(E.key))),r.a.createElement(b.a,{direction:y?"left":"right",timeout:3e3,in:!k.state},r.a.createElement(C.a,{align:"center",variant:k.state?k.lastTypographyVariant:y?"body1":"h6",color:k.state?k.lastColor:y?"primary":"secondary"},k.state?P.t(E.key):P.t(m.key))))))}var zt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={idOtherUser:null,changeMyPassword:!0,passwordOld:"",showPasswordOld:!1,pwdOldError:!1,pwdOldHelperText:"",passwordNew:"",showPasswordNew:!1,pwdNewError:!1,pwdNewHelperText:"",passwordNewConfirm:"",pwdNewConfirmError:!1,pwdNewConfirmHelperText:"",submitDisabled:!0,showAlertDialog:!1,messageReason:null,changePwdIsOK:!1,levelPwdNew:0,levelPwdNewShow:!1},e.handleCancelButton=function(){e.props.history.goBack()},e.handleSubmit=function(){e.setState({showAlertDialog:!0,messageReason:null})},e.handleAgreeSubmitPasswords=function(){var t=e.state,a=t.idOtherUser,n=t.changeMyPassword,r=t.passwordOld,s=t.passwordNew,l=t.passwordNewConfirm;e.setState({showAlertDialog:!1,submitDisabled:!0});var o={idOtherUser:a,changeMyPassword:n,passwordOld:r,passwordNew:s,passwordNewConfirm:l};e.callAPI(o)},e.handleDisagree=function(){e.setState({showAlertDialog:!1})},e.handleClickShowPasswordOld=function(){var t=e.state.showPasswordOld;e.setState({showPasswordOld:!t})},e.handleClickShowPasswordNew=function(){var t=e.state.showPasswordNew;e.setState({showPasswordNew:!t})},e.handleChangeTextField=function(t){var a=t.target,n=a.name,r=a.value,s=e.state,l=s.changeMyPassword,o=s.passwordOld,i=s.passwordNew,c=s.passwordNewConfirm;"passwordOld"===n?(o=r,r.length<=3?e.setState({passwordOld:r,pwdOldError:!0,pwdOldHelperText:P.t("ChangePassword.Password.too.short")}):e.setState({passwordOld:r,pwdOldError:!1,pwdOldHelperText:""})):"passwordNew"===n?(i=r,e.setState({levelPwdNew:Le(i)}),r.length<=3?e.setState({passwordNew:r,pwdNewError:!0,pwdNewHelperText:P.t("ChangePassword.Password.too.short")}):e.setState({passwordNew:r,pwdNewError:!1,pwdNewHelperText:""}),c!==r?e.setState({pwdNewConfirmError:!0,pwdNewConfirmHelperText:P.t("ChangePassword.PasswordConfirm.different")}):e.setState({pwdNewConfirmError:!1,pwdNewConfirmHelperText:""})):"passwordNewConfirm"===n&&(c=r,i===r?e.setState({passwordNewConfirm:r,pwdNewConfirmError:!1,pwdNewConfirmHelperText:""}):e.setState({passwordNewConfirm:r,pwdNewConfirmError:!0,pwdNewConfirmHelperText:P.t("ChangePassword.PasswordConfirm.different")})),l&&(o===i?e.setState({pwdOldError:!0,pwdOldHelperText:P.t("ChangePassword.password.newAndOld.same")}):o&&o.length<=3?e.setState({pwdOldError:!0,pwdOldHelperText:P.t("ChangePassword.Password.too.short")}):e.setState({pwdOldError:!1,pwdOldHelperText:""})),e.setState({submitDisabled:!e.isCorrectPwd(l,o,i,c)})},e.onFocusLevelPwd=function(){e.setState({levelPwdNewShow:!0})},e.onBlurLevelPwd=function(){e.setState({levelPwdNewShow:!1})},e.displayChangePassword=function(){var t=e.props,a=t.classes,n=t.isMyAccount,s=e.state,l=s.idOtherUser,o=s.showAlertDialog,i=s.passwordOld,c=s.showPasswordOld,u=s.pwdOldError,m=s.pwdOldHelperText,d=s.showPasswordNew,p=s.passwordNew,h=s.pwdNewError,g=s.pwdNewHelperText,f=s.passwordNewConfirm,E=s.pwdNewConfirmError,w=s.pwdNewConfirmHelperText,v=s.submitDisabled,N=s.messageReason,y=s.changePwdIsOK,O=s.levelPwdNew,j=s.levelPwdNewShow;return r.a.createElement("div",null,r.a.createElement(x.a,{item:!0,xs:12,className:a.gridItem},r.a.createElement(C.a,{align:"center",color:"primary",variant:"h6"},P.t("ChangePassword.Change.password"))),null==l&&n&&r.a.createElement(x.a,{item:!0,xs:12,className:a.gridItem},r.a.createElement(de.a,{type:c?"text":"password",error:u,label:P.t("ChangePassword.Password"),helperText:m,onChange:e.handleChangeTextField,value:i,name:"passwordOld",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(fe.a,{position:"end"},r.a.createElement(S.a,{onClick:e.handleClickShowPasswordOld,tabIndex:-1},c?r.a.createElement(Ee.a,null):r.a.createElement(we.a,null)))}})),r.a.createElement("div",{onFocus:e.onFocusLevelPwd,onBlur:e.onBlurLevelPwd},r.a.createElement(x.a,{item:!0,xs:12,className:a.gridItem},r.a.createElement(de.a,{type:d?"text":"password",error:h,label:P.t("ChangePassword.Password.new"),helperText:g,onChange:e.handleChangeTextField,value:p,name:"passwordNew",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(fe.a,{position:"end"},r.a.createElement(S.a,{onClick:e.handleClickShowPasswordNew,tabIndex:-1},d?r.a.createElement(Ee.a,null):r.a.createElement(we.a,null)))}}),r.a.createElement(b.a,{in:j,direction:"left",timeout:2e3},r.a.createElement("div",{className:a.levelPwd},r.a.createElement(Ot,{strength:O}))))),r.a.createElement(x.a,{item:!0,xs:12,className:a.gridItem},r.a.createElement(de.a,{type:d?"text":"password",error:E,label:P.t("ChangePassword.Password.new.confirm"),helperText:w,onChange:e.handleChangeTextField,value:f,name:"passwordNewConfirm",fullWidth:!0,InputProps:{endAdornment:r.a.createElement(fe.a,{position:"end"},r.a.createElement(S.a,{onClick:e.handleClickShowPasswordNew,tabIndex:-1},d?r.a.createElement(Ee.a,null):r.a.createElement(we.a,null)))}})),r.a.createElement(x.a,{item:!0,xs:12},r.a.createElement(x.a,{container:!0,justify:"space-between"},r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:e.handleCancelButton},P.t("ChangePassword.Cancel")),r.a.createElement(k.a,{variant:"contained",color:"secondary",disabled:v,onClick:e.handleSubmit},P.t("ChangePassword.Change")))),o&&r.a.createElement(nt,{handleAgree:e.handleAgreeSubmitPasswords,handleDisagree:e.handleDisagree,dialog:P.t("ChangePassword.alert.dialog.Submit.new.password")}),r.a.createElement(b.a,{direction:y?"left":"right",in:null!==N,timeout:3e3},r.a.createElement(C.a,{color:y?"primary":"secondary",align:"center",variant:"h6"},N)))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location,t=new URLSearchParams(e.search).get("id");this.setState({idOtherUser:t,changeMyPassword:null===t})}},{key:"callAPI",value:function(){var e=Object(ue.a)(ce.a.mark((function e(t){var a,n,r,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(je,t);case 2:if(a=e.sent){n="OK"===a.status;try{s=JSON.parse(a.reason),r=P.t(s.key)}catch(l){r=P.t("ChangePassword.unknown.error")}this.setState({changePwdIsOK:n,messageReason:r})}else this.setState({messageReason:null});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isCorrectPwd",value:function(e,t,a,n){return(!e||t.length>3&&t!==a)&&a.length>3&&a===n}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(le.a,{className:e.root},this.displayChangePassword()))}}]),a}(r.a.Component);zt.protoType={isMyAccount:E.a.bool.isRequired};var Ht=Object(U.a)((function(e){return{root:{padding:"12px",margin:"30px",minWidth:"275px",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"},gridContainer:{maxWidth:"500px"},gridItem:{marginTop:"12px",marginBottom:"30px"},levelPwd:{marginTop:"5px"}}}))(Object(h.h)(zt)),Lt=(a(129),a(225));function _t(e){var t=r.a.useState(e.open),a=Object(g.a)(t,2),n=a[0],s=a[1],l=function(t,a){s(!1),e.whenHide&&e.whenHide()};return r.a.createElement("div",null,r.a.createElement(Lt.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n,onMouseDown:l,message:e.message,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{color:"secondary",size:"small",onClick:l},"TODO Button"),r.a.createElement(S.a,{size:"small","aria-label":"close",color:"inherit",onClick:l},r.a.createElement(Ke.a,{fontSize:"small"})))}))}function Ft(e){var t=Object(n.useState)(null),a=Object(g.a)(t,2),s=a[0],l=a[1];function o(e,t){console.log("---------------------- in callFileReader ------------------------------------"),setTimeout((function(){e.result&&e.result.length===t.size?function(e,t){console.log("---------------------- in callAPIUpload ------------------------------------"),console.log(t),console.log(e)}(e.result,t):o(e,t)}),1)}return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:function(e){console.log(e.target.files),l(e.target.files)},multiple:!0}),r.a.createElement("button",{onClick:function(){if(s&&s.length>0)for(var e=0;e<s.length;e++){var t=s.item(e),a=new FileReader;a.readAsBinaryString(t),o(a,t)}}},"Upload"))}var qt=Object(Mt.a)({card:{padding:"20px",marginTop:"50px",minWidth:"275px",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"},divider:{margintop:"20px",marginBottom:"20px"}});function Bt(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)(!1),o=Object(g.a)(l,2),i=o[0],c=o[1],u=function(e){e instanceof Array?(s("New choice array: "+e.reduce((function(e,t){return e+t.title+", "}),"reduce: ")),c(!0)):e instanceof Object&&(s("New choice object: "+e.title),c(!0))};return r.a.createElement(x.a,{container:!0,justify:"center"},r.a.createElement(le.a,{className:qt().card},r.a.createElement(C.a,{variant:"h4",color:"secondary",align:"center"},"GUI Test"),r.a.createElement(xt,{defaultValue:[Wt[0]],options:Wt,onChange:u,multiple:!0,label:"Choice your cities"}),r.a.createElement(L.a,{className:qt().divider}),r.a.createElement(xt,{defaultValue:Wt[0],options:Wt,onChange:u,multiple:!1,label:"Choice your city"}),r.a.createElement(L.a,{className:qt().divider}),r.a.createElement(Ft,null)),i&&r.a.createElement(_t,{open:i,message:a,whenHide:function(){c(!1)}}))}var Wt=[{title:"Paris",zipCode:"75000"},{title:"Paris15",zipCode:"75015"},{title:"Paris16",zipCode:"75016"},{title:"Versailles",zipCode:"78000"},{title:"St Denis REU",zipCode:"97400"}],Jt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={loginState:{token:null,firstName:"",lastName:"",isAsso:!1}},n.setupLogin=function(e,t,a,r){sessionStorage.setItem(ke,e),sessionStorage.setItem("climbing_first_last_name",JSON.stringify({firstName:t,lastName:a})),sessionStorage.setItem("climbing_is_asso",r);var s={token:e,firstName:t,lastName:a,isAsso:r};n.setState({loginState:s}),window.checkTokenImmediatly=!1,window.startAutoReloadToken()},n.setupLogout=function(){if(n.state.loginState.token){sessionStorage.removeItem(ke),sessionStorage.removeItem("climbing_is_asso"),sessionStorage.removeItem("climbing_first_last_name");n.setState({loginState:{token:null,firstName:"",lastName:"",isAsso:!1}})}},a.setupUserInfoStatic=a.setupUserInfoStatic.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem(ke),t="",a="";try{t=JSON.parse(sessionStorage.getItem("climbing_first_last_name")).firstName,a=JSON.parse(sessionStorage.getItem("climbing_first_last_name")).lastName}catch(s){}var n=sessionStorage.getItem("climbing_is_asso"),r={token:e,firstName:t,lastName:a,isAsso:n="true"===n};this.setState({loginState:r})}},{key:"render",value:function(){var e=this.state.loginState;return r.a.createElement(p.a,null,r.a.createElement(se,{loginState:e}),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/"},r.a.createElement(oe,null)),r.a.createElement(h.a,{path:"/login"},r.a.createElement(Fe,{setupLogin:this.setupLogin})),r.a.createElement(h.a,{path:"/logout"},r.a.createElement(Be,{setupLogout:this.setupLogout})),r.a.createElement(h.a,{path:"/user/users_list"},e.isAsso&&r.a.createElement(Ct,null)),r.a.createElement(h.a,{path:"/user/new_user"},r.a.createElement(Pt,{setupLogin:this.setupLogin})),r.a.createElement(h.a,{exact:!0,path:"/user/my_account"},e.token&&r.a.createElement(Tt,null)),r.a.createElement(h.a,{exact:!0,path:"/user/my_account/password"},e.token&&r.a.createElement(Ht,{isMyAccount:!0})),r.a.createElement(h.a,{exact:!0,path:"/user/change/password"},e.token&&e.isAsso&&r.a.createElement(Ht,{isMyAccount:!1})),r.a.createElement(h.a,{exact:!0,path:"/user/change"},e.token&&e.isAsso&&r.a.createElement(Ut,null)),r.a.createElement(h.a,{path:"/test"},e.token&&e.isAsso&&r.a.createElement(Bt,null)),r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Page not found")))))}}],[{key:"setupUserInfoStatic",value:function(e,t,a){sessionStorage.setItem("climbing_first_last_name",JSON.stringify({firstName:e,lastName:t})),sessionStorage.setItem("climbing_is_asso",a),this.setState({loginState:Object(o.a)(Object(o.a)({},this.state.loginState),{},{firstName:e,lastName:t,isAsso:a})})}}]),a}(r.a.Component);l.a.render(r.a.createElement(Jt,null),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.055c3e29.chunk.js.map